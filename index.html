<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover" />
  <title>Say The Word On Beat â€” Fixed Intro</title>
  <style>
    :root{
      --bg1:#070b14; --bg2:#0b1533;
      --text:#f3f6ff; --muted:#a9b7da;
      --ok:#2dd4bf; --bad:#fb7185; --warn:#fbbf24;
      --stroke: rgba(255,255,255,.14);
      --shadow: 0 18px 60px rgba(0,0,0,.35);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    
    html { overflow-y: scroll; }

    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans Arabic", "Noto Kufi Arabic", sans-serif;
      color:var(--text);
      background:
        radial-gradient(1100px 700px at 50% 10%, rgba(255,203,90,.38), transparent 55%),
        radial-gradient(900px 600px at 12% 70%, rgba(122,92,255,.26), transparent 60%),
        linear-gradient(180deg, var(--bg2), var(--bg1));
      min-height:100vh;
      padding:14px;
      display:flex;
      justify-content:center;
      align-items:flex-start;
      -webkit-text-size-adjust: 100%;
    }

    .app{
      width:min(1200px, 100%); 
      display:grid; 
      grid-template-columns: 1fr; 
      gap:20px;
    }

    @media (min-width: 900px) {
      .app {
        grid-template-columns: 1fr 350px; 
        align-items: start;
      }
    }

    .panel{
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.02));
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:20px;
      backdrop-filter: blur(10px);
    }

    .stageWrap{display:flex; justify-content:center; margin:0 0 16px;}
    .stageBanner{
      position:relative; padding:10px 24px; 
      border-radius:999px; 
      background: linear-gradient(90deg, #6d28d9, #9333ea, #7c3aed); 
      border:1px solid rgba(255,255,255,.22); 
      box-shadow: 0 10px 30px rgba(0,0,0,.25); 
      font-weight:900; font-size:24px; 
      text-align:center; min-width: 180px;
    }

    .stats{
      display:grid; 
      grid-template-columns: repeat(4, 1fr); 
      gap:8px; 
      margin-bottom:16px;
    }
    .pill{
      display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center;
      gap:4px; padding:10px 8px; 
      border-radius:14px; 
      background: rgba(0,0,0,.22); 
      border:1px solid var(--stroke); 
      color:var(--muted); font-size:12px;
    }
    .pill b{
      color:var(--text); font-size:18px; 
      font-variant-numeric: tabular-nums;
    }
    .pill .mono{font-family: ui-monospace, monospace;}

    .grid{
      display:grid; 
      grid-template-columns: repeat(4, 1fr); 
      gap:14px; 
      margin-bottom:20px;
    }

    .card{
      position:relative; aspect-ratio: 1 / 1;
      border-radius: 18px;
      border:2px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      overflow:hidden;
      display:flex; align-items:stretch; justify-content:stretch;
      box-shadow: 0 10px 25px rgba(0,0,0,.2);
      transition: transform 0.1s;
    }
    .cardInner{width:100%; height:100%; padding:8px; display:grid; grid-template-rows: 1fr auto; gap:6px;}
    
    .iconBox{
      border-radius: 14px; display:flex; align-items:center; justify-content:center;
      font-size:42px; border:1px solid rgba(255,255,255,.14);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.05);
      background: rgba(255,255,255,.03);
    }
    .wordLabel{
      text-align:center; font-weight:800; font-size:18px;
      padding:6px 4px; border-radius: 10px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.12);
    }

    .t-green .iconBox{background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.2), transparent 60%), linear-gradient(180deg, rgba(34,197,94,.6), rgba(16,185,129,.2));}
    .t-blue  .iconBox{background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.2), transparent 60%), linear-gradient(180deg, rgba(59,130,246,.6), rgba(99,102,241,.2));}
    .t-gold  .iconBox{background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.2), transparent 60%), linear-gradient(180deg, rgba(251,191,36,.6), rgba(245,158,11,.2));}
    .t-red   .iconBox{background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.2), transparent 60%), linear-gradient(180deg, rgba(239,68,68,.6), rgba(251,113,133,.2));}
    .t-purple .iconBox{background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.2), transparent 60%), linear-gradient(180deg, rgba(168,85,247,.6), rgba(99,102,241,.2));}
    .t-pink  .iconBox{background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.2), transparent 60%), linear-gradient(180deg, rgba(236,72,153,.6), rgba(245,158,11,.2));}
    .t-gray  .iconBox{background: radial-gradient(circle at 30% 20%, rgba(255,255,255,.2), transparent 60%), linear-gradient(180deg, rgba(148,163,184,.4), rgba(59,130,246,.1));}

    .card.active{
      border-color: rgba(251,191,36,.9);
      box-shadow: 0 0 0 4px rgba(251,191,36,.25), 0 20px 50px rgba(0,0,0,.4);
      transform: translateY(-2px);
      z-index: 2;
    }
    .card.active::after{
      content:""; position:absolute; inset:0;
      background: radial-gradient(circle at 50% 50%, rgba(251,191,36,.2), transparent 70%);
      animation: pulse .6s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes pulse{ 0%{opacity:.3;} 50%{opacity:.8;} 100%{opacity:.3;} }

    .playWrap{display:flex; flex-direction:column; gap:10px;}
    .playBtn{
      width:100%;
      border:0; border-radius: 16px;
      padding:16px;
      font-weight:900; font-size:18px;
      color:var(--text);
      background: rgba(45,212,191,.15);
      border:1px solid rgba(45,212,191,.4);
      cursor:pointer;
      transition: all .2s;
    }
    .playBtn:hover:not(:disabled){background: rgba(45,212,191,.25);}
    .playBtn:active:not(:disabled){transform: scale(0.98);}
    .playBtn:disabled{opacity:.5; cursor:not-allowed; transform:none;}
    .nextBtn{background: rgba(99,102,241,.15); border-color: rgba(99,102,241,.4);}
    .nextBtn:hover:not(:disabled){background: rgba(99,102,241,.25);}

    .h2{margin:0 0 12px; font-size:16px; font-weight:800; display:flex; align-items:center; gap:6px;}
    .row{display:grid; gap:6px; margin-bottom:14px;}
    label{display:flex; justify-content:space-between; color:var(--muted); font-size:13px; font-weight:600;}
    
    input[type="range"]{width:100%; cursor:pointer; accent-color: var(--ok);}
    select{
      width:100%; padding:10px; border-radius:12px;
      border:1px solid var(--stroke); background: rgba(0,0,0,.3);
      color:var(--text); outline:none; font-size:14px;
    }

    .log{
      max-height: 400px; overflow-y:auto; 
      display:flex; flex-direction:column; gap:8px;
      padding-right: 4px;
    }
    .log::-webkit-scrollbar {width: 6px;}
    .log::-webkit-scrollbar-thumb {background: rgba(255,255,255,0.1); border-radius: 10px;}
    
    .logItem{
      padding:10px; border-radius: 12px;
      border:1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.2);
      color:var(--muted); font-size:13px;
      display:flex; justify-content:space-between; gap:10px; align-items:center;
    }
    .logItem div:first-child { flex: 1; line-height: 1.4; } 

    .tag{
      padding:4px 8px; border-radius:6px;
      font-weight:700; font-size:11px;
      border:1px solid rgba(255,255,255,.1);
      white-space:nowrap;
    }
    .tag.ok{color:#2dd4bf; background: rgba(45,212,191,.1);}
    .tag.bad{color:#fb7185; background: rgba(251,113,133,.1);}
    .tag.warn{color:#fbbf24; background: rgba(251,191,36,.1);}

    .modal.hidden{display:none}
    .modal{position:fixed; inset:0; z-index:100; display:flex; align-items:center; justify-content:center; padding:16px;}
    .modalBackdrop{position:absolute; inset:0; background: rgba(0,0,0,.7); backdrop-filter: blur(5px);}
    .modalCard{
      position:relative; width:min(500px, 100%); 
      border-radius:24px; border:1px solid rgba(255,255,255,.15);
      background: #12182b; 
      box-shadow: 0 24px 80px rgba(0,0,0,.6);
      padding:20px;
    }
    .modalHeader{display:flex; align-items:center; justify-content:space-between; margin-bottom:14px;}
    .modalTitle{font-weight:900; font-size:20px;}
    .modalX{
      border:0; background: rgba(255,255,255,.1); color: var(--text);
      width:32px; height:32px; border-radius:50%; cursor:pointer; font-weight:bold;
    }
    .modalActions{display:grid; gap:10px; margin-top:20px;}

    /* LTR Support for German */
    html[dir="ltr"] .h2 { flex-direction: row; }
    html[dir="ltr"] .pill { direction: ltr; }
    
    @media (max-width: 600px){
      .app{gap:14px;}
      .panel{padding:14px;}
      .grid{grid-template-columns: repeat(2, 1fr); gap:10px;}
      .stats{grid-template-columns: repeat(2, 1fr); gap:6px;}
      .pill{flex-direction: row; justify-content: space-between; padding: 8px 12px; min-height: auto;}
      .pill span {font-size: 11px;}
      .pill b {font-size: 14px;}
      .iconBox{font-size: 36px; height: 70px;} 
      .wordLabel{font-size:16px;}
      .playBtn{font-size:16px; padding:14px;}
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="panel">
      <div class="stageWrap"><div class="stageBanner" id="ui_title">Ø¨ÙÙ„Ù‘Ø¨ÙÙ„Ù‘Ù’</div></div>

      <div class="stats">
        <div class="pill"><span id="ui_group">ğŸ§© Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©</span> <b id="groupLabelDisp">1/20</b></div>
        <div class="pill"><span id="ui_speed">ğŸšï¸ Ø§Ù„Ø³Ø±Ø¹Ø©</span> <b id="bpmText">110</b></div>
        <div class="pill"><span id="ui_step">ğŸ¯ Ø§Ù„Ø¯ÙˆØ±</span> <b id="stepText">1/8</b></div>
        <div class="pill"><span id="ui_score">â­ Ø³ÙƒÙˆØ±</span> <b id="scoreText">0</b></div>
        <div class="pill"><span id="ui_mic">ğŸ™ï¸ Ø§Ù„Ù…Ø§ÙŠÙƒ</span> <b id="micState">..</b></div>
        <div class="pill"><span id="ui_rec">ğŸ§  Ø§Ù„ØªØ¹Ø±Ù</span> <b id="asrState">..</b></div>
        <div class="pill" style="grid-column: span 2; justify-content:center">
           <span style="margin-left:6px" id="ui_heard">ğŸ—£ï¸ Ø³Ù…Ø¹Øª:</span> <b class="mono" id="lastHeard" style="direction:ltr; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; max-width:120px">â€”</b>
        </div>
      </div>

      <div class="grid" id="grid"></div>

      <div class="playWrap">
        <button class="playBtn" id="playBtn">â–¶ï¸ Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨</button>
        <button class="playBtn nextBtn" id="nextStageBtn">â­ï¸ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©</button>
      </div>
    </div>

    <div class="panel">
      <div class="h2" id="ui_settings">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</div>
      
      <div class="row">
        <label><span id="ui_set_lang">Ø§Ù„Ù„ØºØ©</span></label>
        <select id="asrLang">
          <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ø¹Ø§Ù…)</option>
          <option value="de-DE">Deutsch (German)</option>
        </select>
      </div>

      <div class="row">
        <label><span id="ui_set_diff">Ø¯Ø±Ø¬Ø© Ø§Ù„ØµØ¹ÙˆØ¨Ø©</span></label>
        <select id="difficulty">
          <option value="easy" id="opt_easy" selected>Ø³Ù‡Ù„ (110)</option>
          <option value="medium" id="opt_med">ÙˆØ³Ø· (130)</option>
          <option value="hard" id="opt_hard">ØµØ¹Ø¨ (160)</option>
        </select>
      </div>

      <div class="row">
        <label><span id="ui_set_sens">Ø§Ù„ØªØ³Ø§Ù‡Ù„ Ø¨Ø§Ù„Ù†Ø·Ù‚</span></label>
        <select id="sens">
          <option value="strict" id="opt_strict">ØµØ§Ø±Ù…</option>
          <option value="normal" id="opt_normal">Ù…ØªÙˆØ³Ø·</option>
          <option value="loose" selected id="opt_loose">Ù…ØªØ³Ø§Ù‡Ù„</option>
        </select>
      </div>

      <div class="row">
        <label><span id="ui_set_group">Ø±Ù‚Ù… Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©</span><span id="groupLabel">1</span></label>
        <input type="range" id="group" min="1" max="22" value="1">
      </div>

      <div class="row">
        <label><span id="ui_set_bpm">Ø§Ù„Ø³Ø±Ø¹Ø© (BPM)</span><span id="bpmLabel">110</span></label>
        <input type="range" id="bpm" min="70" max="160" value="110">
      </div>

      <div class="row" style="margin-top:8px">
        <button id="resetBtn" style="width:100%; border-radius:12px;padding:12px;font-weight:700;color:var(--muted);background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);cursor:pointer; transition:.2s">ğŸ”„ ØªØµÙÙŠØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
      </div>

      <div style="height:1px; background:var(--stroke); margin:16px 0;"></div>

      <div class="h2">
        <span id="ui_log_title">ğŸ“œ Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</span>
        <span id="totalScoreText" style="margin-right:auto; color:var(--warn); font-variant-numeric: tabular-nums;">0</span>
      </div>
      <div class="log" id="log"></div>
    </div>
  </div>

  <div id="introModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modalBackdrop" id="introBackdrop"></div>
    <div class="modalCard">
      <div class="modalHeader">
        <div class="modalTitle" id="intro_title">ğŸ‘‹ Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¨ÙÙ„Ù‘Ø¨ÙÙ„Ù‘Ù’</div>
        <button class="modalX" id="introClose">âœ•</button>
      </div>
      <div style="line-height:1.6; color:var(--muted); font-size:15px;">
        <p id="intro_p1">Ù„Ø¹Ø¨Ø© ØµÙˆØªÙŠØ© Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±Ø¹Ø© Ø¨Ø¯ÙŠÙ‡ØªÙƒ ÙˆÙ†Ø·Ù‚Ùƒ.</p>
        <ul style="padding-right:20px; margin:10px 0;">
          <li id="intro_li1">Ø³ÙŠØ¸Ù‡Ø± Ø¹Ø¯ ØªÙ†Ø§Ø²Ù„ÙŠØŒ Ø«Ù… ÙŠØ¶ÙŠØ¡ Ù…Ø±Ø¨Ø¹.</li>
          <li id="intro_li2">Ø§Ù†Ø·Ù‚ Ø§Ù„ÙƒÙ„Ù…Ø© ÙÙˆØ±Ø§Ù‹.</li>
          <li id="intro_li3">ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø³ÙŠØ¸Ù‡Ø± Ù„Ùƒ Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù…Ø§ Ù‚Ù„ØªÙ‡.</li>
        </ul>
      </div>
      <div class="modalActions">
        <button class="playBtn" id="introOk">âœ… ÙÙ‡Ù…Øª</button>
        <div id="intro_tip" style="color:var(--bad); font-size:13px; text-align:center; font-weight:800; margin-top:8px;">
          Ù„ØªØ¬Ø±Ø¨Ø© Ù„Ø¹Ø¨ Ø£ÙØ¶Ù„ Ø­ÙˆÙ‘Ù„ Ø¥Ù„Ù‰ Ø¥ØµØ¯Ø§Ø± Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨
        </div>
      </div>
    </div>
  </div>

  <div id="finalModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modalBackdrop" id="finalBackdrop"></div>
    <div class="modalCard">
      <div class="modalHeader">
        <div class="modalTitle" id="final_title">ğŸ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</div>
        <button class="modalX" id="finalClose">âœ•</button>
      </div>
      <div style="text-align:center; padding:20px 0;">
        <div style="font-size:40px; font-weight:900; color:var(--ok); margin-bottom:10px" id="finalScoreLine">0</div>
        <div style="color:var(--muted)" id="finalDetailLine">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù†ØªÙŠØ¬Ø©</div>
      </div>
      <div class="modalActions" style="grid-template-columns: 1fr 1fr;">
        <button class="playBtn nextBtn" id="finalRestart">ğŸ” Ø¥Ø¹Ø§Ø¯Ø©</button>
        <button class="playBtn" id="finalOk">âœ… Ø¥ØºÙ„Ø§Ù‚</button>
      </div>
    </div>
  </div>

  <script>
    const $ = (id)=>document.getElementById(id);
    const clamp=(n,a,b)=>Math.max(a,Math.min(b,n));
    const now=()=>performance.now();

    // ================== Multi-Language Data ==================
    let currentLang = "ar"; // 'ar' or 'de-DE'

    const UI_TEXTS = {
      ar: {
        title: "Ø¨ÙÙ„Ù‘Ø¨ÙÙ„Ù‘Ù’",
        group: "ğŸ§© Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©", speed: "ğŸšï¸ Ø§Ù„Ø³Ø±Ø¹Ø©", step: "ğŸ¯ Ø§Ù„Ø¯ÙˆØ±", score: "â­ Ø³ÙƒÙˆØ±",
        mic: "ğŸ™ï¸ Ø§Ù„Ù…Ø§ÙŠÙƒ", rec: "ğŸ§  Ø§Ù„ØªØ¹Ø±Ù", heard: "ğŸ—£ï¸ Ø³Ù…Ø¹Øª:",
        play: "â–¶ï¸ Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨", next: "â­ï¸ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©", replay: "â–¶ï¸ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨",
        settings: "âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª",
        l_lang: "Ø§Ù„Ù„ØºØ©", 
        l_group: "Ø±Ù‚Ù… Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©", l_bpm: "Ø§Ù„Ø³Ø±Ø¹Ø© (BPM)", 
        l_sens: "Ø§Ù„ØªØ³Ø§Ù‡Ù„ Ø¨Ø§Ù„Ù†Ø·Ù‚",
        l_diff: "Ø¯Ø±Ø¬Ø© Ø§Ù„ØµØ¹ÙˆØ¨Ø©",
        o_easy: "Ø³Ù‡Ù„", o_med: "ÙˆØ³Ø·", o_hard: "ØµØ¹Ø¨",
        o_strict: "ØµØ§Ø±Ù…", o_normal: "Ù…ØªÙˆØ³Ø·", o_loose: "Ù…ØªØ³Ø§Ù‡Ù„",
        reset: "ğŸ”„ ØªØµÙÙŠØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬",
        log: "ğŸ“œ Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ",
        intro_t: "ğŸ‘‹ Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¨ÙÙ„Ù‘Ø¨ÙÙ„Ù‘Ù’",
        intro_p1: "Ù„Ø¹Ø¨Ø© ØµÙˆØªÙŠØ© Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±Ø¹Ø© Ø¨Ø¯ÙŠÙ‡ØªÙƒ ÙˆÙ†Ø·Ù‚Ùƒ.",
        intro_li1: "Ø³ÙŠØ¸Ù‡Ø± Ø¹Ø¯ ØªÙ†Ø§Ø²Ù„ÙŠØŒ Ø«Ù… ÙŠØ¶ÙŠØ¡ Ù…Ø±Ø¨Ø¹.",
        intro_li2: "Ø§Ù†Ø·Ù‚ Ø§Ù„ÙƒÙ„Ù…Ø© ÙÙˆØ±Ø§Ù‹.",
        intro_li3: "ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø³ÙŠØ¸Ù‡Ø± Ù„Ùƒ Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù…Ø§ Ù‚Ù„ØªÙ‡.",
        intro_ok: "âœ… ÙÙ‡Ù…Øª",
        intro_tip: "Ù„ØªØ¬Ø±Ø¨Ø© Ù„Ø¹Ø¨ Ø£ÙØ¶Ù„ Ø­ÙˆÙ‘Ù„ Ø¥Ù„Ù‰ Ø¥ØµØ¯Ø§Ø± Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨",
        final_t: "ğŸ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©",
        final_re: "ğŸ” Ø¥Ø¹Ø§Ø¯Ø©", final_ok: "âœ… Ø¥ØºÙ„Ø§Ù‚",
        mic_wait: "ğŸ™ï¸ ØªØ­Ø¯Ø« Ø§Ù„Ø¢Ù†!",
        mic_load: "â³",
        sys_https: "ÙŠØ¬Ø¨ Ø§Ø³ØªØ®Ø¯Ø§Ù… HTTPS",
        sys_notsup: "ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…",
        sys_work: "ÙŠØ¹Ù…Ù„",
        sys_idle: "Ø®Ø§Ù…Ù„",
        log_heard: "Ø³Ù…Ø¹Øª", log_raw: "Ø§Ù„Ù†Øµ Ø§Ù„ÙƒØ§Ù…Ù„:", log_warn: "ØªÙ†Ø¨ÙŠÙ‡", log_no_voice: "Ù„Ù… ÙŠØªÙ… Ø§Ù„ØªÙ‚Ø§Ø· Ø£ÙŠ ØµÙˆØª",
        log_ok: "âœ… ØµØ­", log_bad: "âŒ Ø®Ø·Ø£", log_u_said: "Ù‚Ù„Øª:", log_req: "Ù…Ø·Ù„ÙˆØ¨:",
        res_total: "Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:",
        res_round: "Ø§Ù„Ø¬ÙˆÙ„Ø©"
      },
      "de-DE": {
        title: "Bulbul (Rhythmus)",
        group: "ğŸ§© Gruppe", speed: "ğŸšï¸ Tempo", step: "ğŸ¯ Schritt", score: "â­ Punkte",
        mic: "ğŸ™ï¸ Mikro", rec: "ğŸ§  Erkennung", heard: "ğŸ—£ï¸ GehÃ¶rt:",
        play: "â–¶ï¸ Starten", next: "â­ï¸ NÃ¤chste Stufe", replay: "â–¶ï¸ Neustart",
        settings: "âš™ï¸ Einstellungen",
        l_lang: "Sprache", 
        l_group: "Gruppennummer", l_bpm: "Tempo (BPM)", 
        l_sens: "Aussprachetoleranz",
        l_diff: "Schwierigkeitsgrad",
        o_easy: "Leicht", o_med: "Mittel", o_hard: "Schwer",
        o_strict: "Streng", o_normal: "Mittel", o_loose: "Locker",
        reset: "ğŸ”„ Reset",
        log: "ğŸ“œ Protokoll",
        intro_t: "ğŸ‘‹ Willkommen bei Bulbul",
        intro_p1: "Ein Sprachspiel, um deine Reaktionszeit und Aussprache zu testen.",
        intro_li1: "Ein Countdown startet, dann leuchtet ein Feld auf.",
        intro_li2: "Sprich das Wort sofort aus.",
        intro_li3: "Am Ende siehst du ein Protokoll dessen, was du gesagt hast.",
        intro_ok: "âœ… Verstanden",
        intro_tip: "FÃ¼r das beste Erlebnis, benutze die Desktop-Version.",
        final_t: "ğŸ Endergebnis",
        final_re: "ğŸ” Nochmal", final_ok: "âœ… SchlieÃŸen",
        mic_wait: "ğŸ™ï¸ Sprich jetzt!",
        mic_load: "â³",
        sys_https: "HTTPS erforderlich",
        sys_notsup: "Nicht unterstÃ¼tzt",
        sys_work: "LÃ¤uft",
        sys_idle: "Bereit",
        log_heard: "GehÃ¶rt", log_raw: "Gesamttext:", log_warn: "Warnung", log_no_voice: "Keine Stimme erkannt",
        log_ok: "âœ… Richtig", log_bad: "âŒ Falsch", log_u_said: "Du:", log_req: "Soll:",
        res_total: "Gesamt:",
        res_round: "Runde"
      }
    };

    // Words Database
    const DB = {
      "camel": { ar: "Ù†Ø§Ù‚Ø©", de: "Kamel", icon: "ğŸª", theme: "t-gold" },
      "bouquet": { ar: "Ø¨Ø§Ù‚Ø©", de: "StrauÃŸ", icon: "ğŸ’", theme: "t-pink" },
      "horn": { ar: "Ø¨ÙˆÙ‚", de: "Trompete", icon: "ğŸº", theme: "t-purple" },
      "hot": { ar: "Ø­Ø§Ø±", de: "Scharf", icon: "ğŸŒ¶ï¸", theme: "t-red" },
      "fire": { ar: "Ù†Ø§Ø±", de: "Feuer", icon: "ğŸ”¥", theme: "t-red" },
      "energy": { ar: "Ø·Ø§Ù‚Ø©", de: "Energie", icon: "ğŸ’¡", theme: "t-green" },
      "collar": { ar: "Ø·ÙˆÙ‚", de: "Halsband", icon: "ğŸ“¿", theme: "t-blue" },
      "market": { ar: "Ø³ÙˆÙ‚", de: "Markt", icon: "ğŸ›’", theme: "t-gold" },
      "up": { ar: "ÙÙˆÙ‚", de: "Oben", icon: "â¬†ï¸", theme: "t-gray" },
      "mouse": { ar: "ÙØ§Ø±", de: "Maus", icon: "ğŸ­", theme: "t-gray" },
      "neighbor": { ar: "Ø¬Ø§Ø±", de: "TÃ¼r", icon: "ğŸšª", theme: "t-blue" }, 
      "house": { ar: "Ø¨ÙŠØª", de: "Haus", icon: "ğŸ ", theme: "t-blue" },
      "thread": { ar: "Ø®ÙŠØ·", de: "Faden", icon: "ğŸ§µ", theme: "t-pink" },
      "oil": { ar: "Ø²ÙŠØª", de: "Ã–l", icon: "ğŸ«—", theme: "t-gold" },
      "wall": { ar: "Ø­ÙŠØ·", de: "Wand", icon: "ğŸ§±", theme: "t-gray" },
      
      "sara": { ar: "Ø³Ø§Ø±Ø©", de: "Sara", icon: "ğŸ‘§", theme: "t-pink" },
      "ball": { ar: "Ø·Ø§Ø¨Ø©", de: "Ball", icon: "âš½", theme: "t-green" },
      "duck": { ar: "Ø¨Ø·Ø©", de: "Ente", icon: "ğŸ¦†", theme: "t-gold" },
      "chili": { ar: "Ø´Ø·Ø©", de: "Chili", icon: "ğŸŒ¶ï¸", theme: "t-red" },
      "cat": { ar: "Ù‚Ø·Ø©", de: "Katze", icon: "ğŸ±", theme: "t-purple" }
    };

    // Logical Groups
    const GROUP_KEYS = [
      ["camel","camel","camel","camel","camel","camel","camel","camel"],
      ["bouquet","bouquet","bouquet","bouquet","bouquet","bouquet","bouquet","bouquet"],
      ["horn","horn","horn","horn","horn","horn","horn","horn"],
      ["camel","horn","camel","horn","camel","horn","camel","horn"],
      ["bouquet","camel","horn","camel","horn","camel","bouquet","horn"],
      ["camel","horn","bouquet","up","horn","camel","horn","bouquet"],
      ["hot","hot","hot","hot","hot","hot","hot","hot"],
      ["fire","fire","fire","fire","fire","fire","fire","fire"],
      ["fire","fire","hot","hot","bouquet","horn","hot","fire"],
      ["camel","bouquet","collar","collar","bouquet","collar","fire","hot"],
      ["camel","bouquet","horn","camel","bouquet","market","camel","bouquet"],
      ["hot","camel","fire","hot","bouquet","horn","camel","fire"],
      ["bouquet","horn","camel","horn","horn","bouquet","fire","camel"],
      ["bouquet","camel","collar","bouquet","collar","camel","horn","camel"],
      ["energy","collar","camel","fire","hot","collar","horn","bouquet"],
      ["mouse","hot","camel","collar","neighbor","mouse","camel","horn"],
      ["house","house","house","house","thread","thread","thread","thread"],
      ["house","thread","house","thread","thread","house","thread","house"],
      ["oil","oil","oil","oil","wall","wall","wall","wall"],
      ["house","wall","oil","thread","oil","wall","thread","house"],

      // New Stages (Corrected order)
      // Ø¨ÙŠØª Ù†Ø§Ù‚Ø© ÙØ§Ø±Ø© Ø®ÙŠØ· - Ø·ÙˆÙ‚ ÙÙˆÙ‚ Ø·Ø§Ø¨Ø© Ø­ÙŠØ·
      ["house","camel","mouse","thread","collar","up","ball","wall"],

      // Ù†Ø§Ø± ÙØ§Ø±Ø© Ø³Ø§Ø±Ø© Ø²ÙŠØª - Ø¨Ø·Ø© Ø´Ø·Ø© Ù‚Ø·Ø© Ø®ÙŠØ·
      ["fire","mouse","sara","oil","duck","chili","cat","thread"]
    ];

    // Helpers
    function getWord(key){
      if(!DB[key]) return key;
      const lang = currentLang === "de-DE" ? "de" : "ar";
      return DB[key][lang] || DB[key]["ar"];
    }
    function getTheme(key){ return DB[key] ? DB[key].theme : ""; }
    function getIcon(key){ return DB[key] ? DB[key].icon : "âœ¨"; }

    function updateUILanguage(){
      const t = UI_TEXTS[currentLang] || UI_TEXTS["ar"];
      const isRTL = (currentLang === "ar");
      
      document.documentElement.dir = isRTL ? "rtl" : "ltr";
      document.documentElement.lang = isRTL ? "ar" : "de";

      $("ui_title").textContent = t.title;
      $("ui_group").textContent = t.group;
      $("ui_speed").textContent = t.speed;
      $("ui_step").textContent = t.step;
      $("ui_score").textContent = t.score;
      $("ui_mic").textContent = t.mic;
      $("ui_rec").textContent = t.rec;
      $("ui_heard").textContent = t.heard;
      
      if(!running) $("playBtn").textContent = t.play;
      $("nextStageBtn").textContent = t.next;
      $("finalRestart").textContent = t.final_re;
      $("finalOk").textContent = t.final_ok;

      $("ui_settings").textContent = t.settings;
      $("ui_set_lang").textContent = t.l_lang;
      $("ui_set_group").textContent = t.l_group;
      $("ui_set_bpm").textContent = t.l_bpm;
      $("ui_set_sens").textContent = t.l_sens;
      $("ui_set_diff").textContent = t.l_diff;
      
      $("opt_easy").textContent = t.o_easy + " (110)";
      $("opt_med").textContent = t.o_med + " (130)";
      $("opt_hard").textContent = t.o_hard + " (160)";

      $("opt_strict").textContent = t.o_strict;
      $("opt_normal").textContent = t.o_normal;
      $("opt_loose").textContent = t.o_loose;
      $("resetBtn").textContent = t.reset;
      $("ui_log_title").textContent = t.log;
      $("totalScoreText").textContent = t.res_total + " " + totalScore;

      $("intro_title").textContent = t.intro_t;
      $("intro_p1").textContent = t.intro_p1;
      $("intro_li1").textContent = t.intro_li1;
      $("intro_li2").textContent = t.intro_li2;
      $("intro_li3").textContent = t.intro_li3;
      $("introOk").textContent = t.intro_ok;
      $("intro_tip").textContent = t.intro_tip;

      $("final_title").textContent = t.final_t;
    }

    function normalizeText(s){
      if(!s) return "";
      if(currentLang === "de-DE"){
         return s.toLowerCase()
          .replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"")
          .replace(/\s+/g," ")
          .trim();
      } else {
         return s.toLowerCase()
          .replace(/[Ù‘ÙÙ‹ÙÙŒÙÙÙ’Ù€]/g,"")
          .replace(/[Ø£Ø¥Ø¢Ø§]/g,"Ø§")
          .replace(/[Ù‰ÙŠ]/g,"ÙŠ")
          .replace(/[Ø©]/g,"Ù‡")
          .replace(/[Ø¤]/g,"Ùˆ")
          .replace(/[Ø¦]/g,"ÙŠ")
          .replace(/[^\u0600-\u06FF0-9a-z ]+/g," ")
          .replace(/\s+/g," ")
          .trim();
      }
    }

    // =======================================================
    const SpeechRec = window.SpeechRecognition || window.webkitSpeechRecognition;
    let recognizer=null;
    let recogRunning=false;

    let finalTranscript = "";    
    let lastInterim = "";        
    let allowAsrRestart = false;
    let asrPhase = "idle"; 

    function setMicState(txt){ $("micState").textContent = txt; }
    function setAsrState(txt){ $("asrState").textContent = txt; }
    function isSpeechSupported(){ return !!SpeechRec; }
    function isSecure(){ return (window.isSecureContext || location.hostname === "localhost" || location.hostname === "127.0.0.1"); }

    function setupRecognizer(){
      if(!SpeechRec) return false;
      recognizer = new SpeechRec();
      recognizer.lang = currentLang; 
      recognizer.interimResults = true;
      recognizer.continuous = true;
      recognizer.maxAlternatives = 1; 

      const t = UI_TEXTS[currentLang] || UI_TEXTS["ar"];

      recognizer.onstart = ()=> { setAsrState(t.sys_work); };

      recognizer.onresult = (ev)=>{
        const segs = [];
        for(let i=0;i<ev.results.length;i++){
          const r = ev.results[i];
          const txtRaw = (r && r[0] && r[0].transcript) ? r[0].transcript : "";
          const seg = normalizeText(txtRaw);
          if(seg) segs.push(seg);
        }

        let merged = "";
        for(const seg of segs){
          if(!merged){ merged = seg; continue; }
          if(seg.startsWith(merged)){ merged = seg; continue; }
          if(merged.startsWith(seg)){ continue; }
          
          const a = merged.split(" ");
          const b = seg.split(" ");
          let overlap = 0;
          const max = Math.min(a.length, b.length);
          for(let k=max; k>=1; k--){
            if(a.slice(-k).join(" ") === b.slice(0,k).join(" ")){ overlap = k; break; }
          }
          merged = a.concat(b.slice(overlap)).join(" ");
        }

        finalTranscript = normalizeText(merged);
        lastInterim = "";
        $("lastHeard").textContent = finalTranscript ? (finalTranscript.slice(-15)) : "â€”";
      };

      recognizer.onerror = (e)=>{
        const err = (e && e.error) ? e.error : "Unknown";
        if(err === "no-speech") return; 
        setAsrState("!" + err);
        if(err === "audio-capture" || err === "network"){ allowAsrRestart = true; }
      };

      recognizer.onend = ()=>{
        const t = UI_TEXTS[currentLang];
        if(recogRunning && allowAsrRestart && asrPhase === "playing"){
          try{ recognizer.start(); }catch(e){}
        }else{ setAsrState(t.sys_idle); }
      };
      return true;
    }

    async function startMicAuto(){
      const t = UI_TEXTS[currentLang] || UI_TEXTS["ar"];
      if(!isSecure()){
        log(t.log_warn, t.sys_https, "bad");
        return false;
      }
      if(!isSpeechSupported()){
        log(t.log_warn, t.sys_notsup, "bad");
        return false;
      }
      if(recognizer && recognizer.lang !== currentLang) { recognizer = null; }
      if(!recognizer && !setupRecognizer()){ return false; }

      try{
        recogRunning=true;
        finalTranscript = "";
        lastInterim = "";
        $("lastHeard").textContent = "â€”";
        allowAsrRestart = true;
        asrPhase = "playing";
        recognizer.lang = currentLang;
        recognizer.start();
        setMicState(t.sys_work);
        return true;
      }catch(e){
        setMicState("Err");
        return false;
      }
    }

    function hardStopMic(){
      allowAsrRestart = false;
      recogRunning = false;
      asrPhase = "idle";
      const t = UI_TEXTS[currentLang];
      try{ if(recognizer) recognizer.stop(); }catch(e){}
      setMicState(t.sys_idle);
      setAsrState(t.sys_idle);
    }

    // ===== Game State =====
    let groupIndex=0;
    let bpm=110;
    let intervalMs=60000/bpm;
    let running=false;
    let timer=null;
    let activePos=0;
    let score=0; 
    let groupScores = new Array(GROUP_KEYS.length).fill(0);
    let totalScore = 0;
    let lastRawRound = ""; 

    function currentGroupKeys(){ return GROUP_KEYS[groupIndex]; }
    function expectedWord(pos){ 
        const key = currentGroupKeys()[pos];
        return getWord(key) || ""; 
    }

    function log(tag, msg, type){
      const item=document.createElement("div");
      item.className="logItem";
      const left=document.createElement("div");
      left.textContent=msg;
      const t=document.createElement("div");
      t.className=`tag ${type||""}`;
      t.textContent=tag;
      item.appendChild(left);
      item.appendChild(t);
      const logEl = $("log");
      logEl.prepend(item);
    }

    function updateHUD(){
      const t = UI_TEXTS[currentLang];
      $("groupLabelDisp").textContent = `${groupIndex+1}/${GROUP_KEYS.length}`;
      $("groupLabel").textContent = `${groupIndex+1}`;
      $("bpmText").textContent = bpm;
      $("bpmLabel").textContent = bpm;
      $("stepText").textContent = (activePos+1) + "/8";
      $("scoreText").textContent = score;
      $("totalScoreText").textContent = t.res_total + " " + totalScore;
    }

    function buildGrid(){
      const g=$("grid");
      g.innerHTML="";
      const keys=currentGroupKeys();
      keys.forEach((key,i)=>{
        const w = getWord(key);
        const card=document.createElement("div");
        card.className = `card ${getTheme(key)||""}`;
        card.dataset.pos = String(i);
        const inner=document.createElement("div");
        inner.className="cardInner";
        const icon=document.createElement("div");
        icon.className="iconBox";
        icon.textContent = getIcon(key) || "âœ¨";
        const label=document.createElement("div");
        label.className="wordLabel";
        label.textContent = w;
        inner.appendChild(icon);
        inner.appendChild(label);
        card.appendChild(inner);
        g.appendChild(card);
      });
      document.querySelectorAll(".card").forEach(c=>c.classList.remove("active"));
    }

    function setActive(pos){
      document.querySelectorAll(".card").forEach(c=>c.classList.remove("active"));
      if(pos >= 8) return;
      const el=document.querySelector(`.card[data-pos="${pos}"]`);
      if(el) el.classList.add("active");
      activePos=pos;
      updateHUD();
    }

    function voiceMatchesExpected(heard, expected){
      const h=normalizeText(heard);
      const e=normalizeText(expected);
      if(!h || !e) return false;
      const mode=$("sens").value;
      if(mode==="strict") return h===e;
      if(h===e) return true;
      if(h.includes(e) || e.includes(h)) return true;
      if(mode==="loose"){
        let matchCount = 0;
        for(let char of e){ if(h.includes(char)) matchCount++; }
        if(matchCount >= e.length - 1) return true;
      }
      return false;
    }

    function extractFirstNWords(text, n){
      const t = normalizeText(text);
      if(!t) return [];
      const tokens = t.split(" ").filter(Boolean);
      return tokens.slice(0, n);
    }

    function finalizeRoundAndVerify(){
      const t = UI_TEXTS[currentLang];
      const raw = (finalTranscript || lastInterim || "").trim();
      lastRawRound = raw || "";
      const saidSeq = extractFirstNWords(raw, 8); 

      score = 0;

      if(raw) log(t.log_heard, `${t.log_raw} "${raw}"`, "warn");
      else log(t.log_warn, t.log_no_voice, "bad");

      for(let i=0;i<8;i++){
        const expected = expectedWord(i);
        const said = saidSeq[i] || "â€”";
        const ok = (said !== "â€”") && voiceMatchesExpected(said, expected);
        
        if(ok){
          score += 10;
          log(t.log_ok, `#${i+1} ${t.log_u_said} "${said}" | ${t.log_req} "${expected}"`, "ok");
        }else{
          log(t.log_bad, `#${i+1} ${t.log_u_said} "${said}" | ${t.log_req} "${expected}"`, "bad");
        }
      }

      groupScores[groupIndex] = score;
      totalScore = groupScores.reduce((a,b)=>a+(b||0), 0);
      updateHUD();
      
      log(t.res_round + " " + (groupIndex+1), `${score}/80`, score===80?"ok":"warn");
    }

    function scheduleNext(){
      if(!running) return;
      timer = setTimeout(()=>{
        if(!running) return;
        const next = activePos + 1;
        if(next >= 8){ finishRound(); return; }
        setActive(next);
        scheduleNext();
      }, intervalMs);
    }

    async function finishRound(){
      running=false;
      if(timer) clearTimeout(timer);
      timer=null;
      document.querySelectorAll(".card").forEach(c=>c.classList.remove("active"));
      asrPhase = "ending";
      allowAsrRestart = false;
      const t = UI_TEXTS[currentLang];
      try{ if(recognizer) recognizer.stop(); }catch(e){}
      await new Promise(r=>setTimeout(r, 1000));
      finalizeRoundAndVerify();
      hardStopMic();
      $("playBtn").disabled=false;
      $("nextStageBtn").disabled=false;
      $("playBtn").textContent = t.replay;
    }

    async function startGame(){
      if(running) return;
      const t = UI_TEXTS[currentLang];
      const playEl = $("playBtn");
      const nextEl = $("nextStageBtn");
      playEl.disabled=true;
      nextEl.disabled=true;
      
      for(let i=3;i>=1;i--){
        playEl.textContent = `${t.mic_load} ${i}`;
        await new Promise(r=>setTimeout(r, 400));
      }
      playEl.textContent = t.mic_wait;
      $("log").innerHTML = ""; 
      bpm = clamp(parseInt($("bpm").value,10)||110, 40, 220);
      intervalMs = 60000 / bpm;
      await startMicAuto();
      running=true;
      score=0;
      activePos=0;
      buildGrid(); 
      if(timer) clearTimeout(timer);
      setActive(0);
      scheduleNext();
    }

    function loadGroup(idx){
      const t = UI_TEXTS[currentLang];
      groupIndex = clamp(idx, 0, GROUP_KEYS.length-1);
      running=false;
      if(timer) clearTimeout(timer);
      hardStopMic();
      score = groupScores[groupIndex] || 0;
      totalScore = groupScores.reduce((a,b)=>a+(b||0), 0);
      activePos=0;
      finalTranscript="";
      lastInterim="";
      $("lastHeard").textContent="â€”";
      buildGrid();
      updateHUD();
      $("playBtn").disabled=false;
      $("nextStageBtn").disabled=false;
      $("playBtn").textContent = t.play;
    }

    $("playBtn").addEventListener("click", startGame);
    $("nextStageBtn").addEventListener("click", ()=>{
      if(running) return;
      if(groupIndex === GROUP_KEYS.length - 1){ showFinalModal(); return; }
      const next = groupIndex + 1;
      $("group").value = String(next + 1);
      loadGroup(next);
    });

    $("group").addEventListener("input", (e)=>{ loadGroup((parseInt(e.target.value,10)||1)-1); });
    $("bpm").addEventListener("input", (e)=>{ bpm = clamp(parseInt(e.target.value,10)||110, 40, 220); $("bpmLabel").textContent=bpm; });
    
    // Difficulty logic
    $("difficulty").addEventListener("change", (e)=>{
      const val = e.target.value;
      if(val === "easy") bpm = 110;
      else if(val === "medium") bpm = 130;
      else if(val === "hard") bpm = 160;
      
      // Update UI slider
      $("bpm").value = bpm;
      $("bpmLabel").textContent = bpm;
      $("bpmText").textContent = bpm;
      intervalMs = 60000 / bpm;
    });

    // Language Switch
    $("asrLang").addEventListener("change", (e)=>{
      currentLang = e.target.value;
      if(recogRunning) hardStopMic();
      updateUILanguage();
      loadGroup(groupIndex); 
      const t = UI_TEXTS[currentLang];
      log(t.log_warn, t.l_lang + ": " + currentLang, "warn");
    });
    
    $("resetBtn").addEventListener("click", ()=>{
      const t = UI_TEXTS[currentLang];
      groupScores.fill(0); totalScore = 0; score=0;
      $("log").innerHTML=""; updateHUD();
      log(t.log_warn, t.reset,"warn");
    });

    function showFinalModal(){
      const pct = Math.round((totalScore / (GROUP_KEYS.length * 80)) * 100);
      $("finalScoreLine").textContent = `${totalScore}`;
      $("finalDetailLine").textContent = `%${pct}`;
      $("finalModal").classList.remove("hidden");
    }
    function hideFinalModal(){ $("finalModal").classList.add("hidden"); }
    $("finalClose").addEventListener("click", hideFinalModal);
    $("finalOk").addEventListener("click", hideFinalModal);
    $("finalRestart").addEventListener("click", ()=>{ hideFinalModal(); $("group").value = "1"; loadGroup(0); });

    function showIntroModal(){ $("introModal").classList.remove("hidden"); }
    function hideIntroModal(){ $("introModal").classList.add("hidden"); }
    $("introClose").addEventListener("click", hideIntroModal);
    $("introOk").addEventListener("click", ()=>{ try{ localStorage.setItem("rt_seen_intro_v4","1"); }catch(e){} hideIntroModal(); });

    // Init
    $("group").max = String(GROUP_KEYS.length);
    updateUILanguage();
    loadGroup(0);
    try{ if(!localStorage.getItem("rt_seen_intro_v4")) showIntroModal(); }catch(e){ showIntroModal(); }
  </script>
</body>
</html>

